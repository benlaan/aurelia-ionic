<template>
    <require from='ionic/ion-item'></require>
    <require from='ionic/ion-label'></require>
    <require from='ionic/ion-input'></require>
    <require from='ionic/ion-list'></require>
    <require from='ionic/ion-icon'></require>
    <require from='ionic/ion-content'></require>
    <require from='ionic/ion-header'></require>
    <require from='ionic/ion-footer'></require>
    <require from='ionic/ion-toolbar'></require>
    <require from='ionic/attributes/ion-button-attribute'></require>
    <require from='ionic/toolbar-content'></require>
    <require from='ionic/ion-title'></require>
    <require from='ionic/ion-buttons'></require>
    <require from='ionic/toolbar-button'></require>
    <require from='ionic/utilities/disabledAttribute'></require>

    <ion-header>
        <ion-toolbar color="primary" no-border-bottom>

            <button ion-button button-start click.delegate="save(true)">
                <ion-icon name="arrow-back"></ion-icon>
            </button>

            <toolbar-content>
                <ion-title>${book.id ? 'Edit' : 'New'} Book</ion-title>
            </toolbar-content>

            <ion-buttons end>
                <button icon-end ion-button disabled.bind="!isDirty" click.delegate="save()">Save</button>
            </ion-buttons>

        </ion-navbar>
    </ion-header>

    <ion-content>

        <!-- <div show.bind="error" class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="icon-error icons"></i> Error: ${error}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">Ã—</span>
            </button>
        </div> -->

        <div class="scroll-content" style="margin-top: 56px; margin-bottom: 56px;">
            <ion-list>
                <ion-item>
                    <ion-label floating>Title</ion-label>
                    <ion-input type="text" field="title" value.two-way="book.title"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label floating>Date</ion-label>
                    <ion-input type="date" field="date" value.two-way="book.date" readonly.bind="readonly"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label floating>Author</ion-label>
                    <ion-input type="text" field="author" value.two-way="book.author" readonly.bind="isNew || readonly"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label floating>Genre</ion-label>
                    <ion-input type="text" field="genre" value.two-way="book.genre" readonly.bind="readonly"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label floating>Pages</ion-label>
                    <ion-input type="number" field="pages" value.two-way="book.pages" readonly.bind="readonly"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label floating>Rating</ion-label>
                    <ion-input type="number" field="pages" value.two-way="book.stars" readonly.bind="readonly"></ion-input>
                </ion-item>
            </ion-list>
        </div>
    </ion-content>

    <ion-footer>
        <ion-toolbar>
            <toolbar-button
                title="Delete"
                icon="trash"
                click.delegate="delete()"
                disabled.bind="isNew || readonly">
            </toolbar-button>
        </ion-toolbar>
    </ion-footer>

</template>
