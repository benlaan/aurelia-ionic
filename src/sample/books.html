<template>

    <require from='ionic/ion-column'></require>
    <require from='ionic/ion-content'></require>
    <require from='ionic/ion-footer'></require>
    <require from='ionic/ion-header'></require>
    <require from='ionic/ion-item'></require>
    <require from='ionic/ion-icon'></require>
    <require from='ionic/ion-list'></require>
    <require from='ionic/ion-row'></require>
    <require from='ionic/ion-title'></require>
    <require from='ionic/ion-toolbar'></require>
    <require from='ionic/toolbar-content'></require>
    <require from='ionic/toolbar-button'></require>
    <require from='ionic/attributes/ion-button-attribute'></require>
    <require from="ionic/utilities/dateFormatValueConverter"></require>

    <ion-header>
        <ion-toolbar color="primary" no-border-bottom>

            <button ion-button button-start click.delegate="save(true)">
                <ion-icon name="menu"></ion-icon>
            </button>

            <toolbar-content>
                <ion-segment class="segment segment-md segment-md-light">
                    <ion-segment-button click.delegate="switchTab('TopRated')" class="segment-button ${mode == 'TopRated' ? 'segment-activated' : ''}" tappable>
                        Top Rated
                        <div class="button-effect"></div>
                    </ion-segment-button>
                    <ion-segment-button click.delegate="switchTab('All')" class="segment-button ${mode != 'TopRated' ? 'segment-activated' : ''}" tappable>
                        All
                        <div class="button-effect"></div>
                    </ion-segment-button>
                </ion-segment>
            </toolbar-content>

        </ion-navbar>
    </ion-header>

    <ion-content>

        <!-- <div show.bind="error" class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="icon-error icons"></i> Error: ${error}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">Ã—</span>
            </button>
        </div> -->

        <div class="scroll-content" style="margin-top: 50px; margin-bottom: 56px;">

            <ion-list>
                <ion-item repeat.for="book of books">

                    <ion-label click.delegate="viewBook(book)">
                        <ion-grid class="grid">
                            <ion-row>
                                <ion-column col-8><h2><b>${book.title}</b></h2></ion-column>
                                <ion-column col-4><h2>${book.genre}</h2></ion-column>
                            </ion-row>
                            <ion-row>
                                <ion-column col-5>
                                    <small>
                                        <ion-icon name="time" color="blue"></ion-icon>
                                        ${book.published | dateFormat: 'MMM YYYY'}
                                    </small>
                                </ion-column>
                                <ion-column col-2>
                                    <small>
                                        <ion-icon name="star" color="mediumpurple"></ion-icon>
                                        ${book.stars}
                                    </small>
                                </ion-column>
                                <ion-column col-2>
                                    <small>
                                        <ion-icon name="code-working" color="red"></ion-icon>
                                        ${book.pages}
                                    </small>
                                </ion-column>
                                <ion-column col-3>
                                    <small>
                                        <ion-icon name="person" color="green"></ion-icon>
                                        ${book.author}
                                    </small>
                                </ion-column>
                            </ion-row>
                        </ion-grid>
                    </ion-label>
                </ion-item>
            </ion-list>
        </div>

    </ion-content>

    <ion-footer>
        <ion-toolbar>

            <toolbar-button title="Add" icon="add" click.delegate="add()"></toolbar-button>
            <toolbar-button title="Refresh" icon="refresh" click.delegate="refresh()"></toolbar-button>

        </ion-toolbar>
    </ion-footer>
</template>
