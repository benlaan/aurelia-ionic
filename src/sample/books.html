<template>

    <ion-header>
        <ion-toolbar color="primary" no-border-bottom>

            <button ion-button button-start>
                <ion-icon name="menu"></ion-icon>
            </button>

            <toolbar-content>
                <ion-segment color="light">
                    <ion-segment-button click.delegate="switchTab('TopRated')" activated.bind="mode == 'TopRated'" tappable>
                        Top Rated
                    </ion-segment-button>
                    <ion-segment-button click.delegate="switchTab('All')" activated.bind="mode != 'TopRated'" tappable>
                        All
                    </ion-segment-button>
                </ion-segment>
            </toolbar-content>

        </ion-toolbar>
    </ion-header>

    <ion-content>
        <ion-list>
            <ion-item repeat.for="book of books">

                <ion-label click.delegate="viewBook(book)">
                    <ion-grid class="grid">
                        <ion-row>
                            <ion-column col-3><ion-img src.bind="book.image" style="width:60px; height:80px"></ion-img></ion-column>
                            <ion-column col-6><h2>${book.title}</h2></ion-column>
                            <ion-column col-3><h2>${book.genre}</h2></ion-column>
                        </ion-row>
                        <ion-row>
                            <ion-column col-5>
                                <small>
                                    <ion-icon name="time" color="blue"></ion-icon>
                                    ${book.published | dateFormat: 'MMM YYYY'}
                                </small>
                            </ion-column>
                            <ion-column col-2>
                                <small>
                                    <ion-icon name="star" color="mediumpurple"></ion-icon>
                                    ${book.stars}
                                </small>
                            </ion-column>
                            <ion-column col-2>
                                <small>
                                    <ion-icon name="code-working" color="red"></ion-icon>
                                    ${book.pages}
                                </small>
                            </ion-column>
                            <ion-column col-3>
                                <small>
                                    <ion-icon name="person" color="green"></ion-icon>
                                    ${book.author}
                                </small>
                            </ion-column>
                        </ion-row>
                    </ion-grid>
                </ion-label>
            </ion-item>
        </ion-list>
    </ion-content>

    <ion-footer>
        <ion-toolbar color="light">
            <toolbar-button title="Add" icon="add" click.delegate="add()"></toolbar-button>
            <toolbar-button title="Refresh" icon="refresh" click.delegate="refresh()"></toolbar-button>
        </ion-toolbar>
    </ion-footer>
</template>
